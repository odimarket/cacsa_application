(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ed8f3ad"],{"3e69":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ConsoleHeader"),s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"content-header"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-6 text-start"},[s("h1",{staticClass:"m-0 text-dark"},[e._v("Users"),s("sup",[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)",title:"Create"},on:{click:function(t){return t.preventDefault(),e.newUserView(t)}}},[s("i",{staticClass:"mdi mdi-plus-circle"})])])])]),s("div",{staticClass:"col-sm-6"},[s("ol",{staticClass:"breadcrumb float-sm-right"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/console"}},[e._v("Home")])],1),s("li",{staticClass:"breadcrumb-item active"},[e._v("Users")])])])])])]),s("section",{staticClass:"content"},[s("div",{staticClass:"container-fluid"},[!1===e.NewUserView?s("div",{staticClass:"pb-5"},[0===e.users.length&&0===e.admins.length?s("div",{staticClass:"text-start"},[s("b",[e._v("No user added yet!")])]):s("div",{staticClass:"table-responsive"},[s("ul",{staticClass:"nav nav-pills mb-3",attrs:{id:"pills-tab",role:"tablist"}},[s("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[s("button",{staticClass:"nav-link",class:{active:e.memberTabView},attrs:{id:"pills-members-tab","data-bs-toggle":"pill","data-bs-target":"#pills-members",type:"button",role:"tab","aria-controls":"pills-members","aria-selected":"true"},on:{click:function(t){e.memberTabView=!0}}},[e._v("Members")])]),s("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[s("button",{staticClass:"nav-link",class:{active:!1===e.memberTabView},attrs:{id:"pills-admins-tab","data-bs-toggle":"pill","data-bs-target":"#pills-admins",type:"button",role:"tab","aria-controls":"pills-admins","aria-selected":"false"},on:{click:function(t){e.memberTabView=!1}}},[e._v("Admins")])])]),s("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[s("div",{staticClass:"tab-pane fade",class:{"show active":e.memberTabView},attrs:{id:"pills-members",role:"tabpanel","aria-labelledby":"pills-members-tab"}},[s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-6",attrs:{md:"3"}},[s("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),s("b-col",{staticClass:"col-6 text-end",attrs:{md:"9"}},[s("b-button",{staticClass:"btn bn-dark",on:{click:e.refreshUsers}},[s("i",{staticClass:"mdi mdi-refresh"}),e._v(" Refresh")])],1)],1),s("b-row",[s("b-col",[s("b-table",{attrs:{striped:"",hover:"",outlined:"",filter:e.filter,items:e.users,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[s("b-button",{staticClass:"mr-2 mb-2",attrs:{size:"sm"},on:{click:function(r){return e.filterUser(t.item.id)}}},[s("i",{staticClass:"mdi mdi-pencil"})]),s("b-button",{staticClass:"btn btn-danger mb-2",attrs:{size:"sm",title:"Delete"},on:{click:function(r){return e.handleDeleteUser(t.item.id)}}},[s("i",{staticClass:"mdi mdi-delete"})])]}}],null,!1,2254322664)}),s("b-pagination",{attrs:{"total-rows":e.users.length,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),s("div",{staticClass:"tab-pane fade",class:{"show active":!1===e.memberTabView},attrs:{id:"pills-admins",role:"tabpanel","aria-labelledby":"pills-admins-tab"}},[s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-6",attrs:{md:"3"}},[s("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),s("b-col",{staticClass:"col-6 text-end",attrs:{md:"9"}},[s("b-button",{staticClass:"btn bn-dark",on:{click:e.refreshUsers}},[s("i",{staticClass:"mdi mdi-refresh"}),e._v(" Refresh")])],1)],1),s("b-row",[s("b-col",[s("b-table",{attrs:{striped:"",hover:"",outlined:"",filter:e.filter,items:e.admins,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[s("b-button",{staticClass:"mr-2 mb-2",attrs:{size:"sm"},on:{click:function(r){return e.filterAdmin(t.item.id)}}},[s("i",{staticClass:"mdi mdi-pencil"})]),s("b-button",{staticClass:"btn btn-danger mb-2",attrs:{size:"sm",title:"Delete"},on:{click:function(r){return e.handleDeleteAdmin(t.item.id)}}},[s("i",{staticClass:"mdi mdi-delete"})])]}}],null,!1,2367422536)}),s("b-pagination",{attrs:{"total-rows":e.admins.length,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)])])]):s("div",[null===e.User?s("div",[s("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.handleNewUser(t)}}},[s("h3",{staticClass:"text-start"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadUserView()}}},[s("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Create a new user ")]),s("div",{staticClass:"pb-5"},[s("div",{staticClass:"col-xl-12 col-md-12 my-4"},[s("div",{staticClass:"card"},[e._m(0),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_name,expression:"form.first_name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter first name",required:""},domProps:{value:e.form.first_name},on:{input:function(t){t.target.composing||e.$set(e.form,"first_name",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.last_name,expression:"form.last_name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter last name",required:""},domProps:{value:e.form.last_name},on:{input:function(t){t.target.composing||e.$set(e.form,"last_name",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Email Address(Optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control remove-radius",attrs:{type:"email",placeholder:"Enter email address"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Tel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter tel",required:""},domProps:{value:e.form.tel},on:{input:function(t){t.target.composing||e.$set(e.form,"tel",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.state,expression:"form.state"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter state"},domProps:{value:e.form.state},on:{input:function(t){t.target.composing||e.$set(e.form,"state",t.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Campus Address(Optional)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.campus_home_address,expression:"form.campus_home_address"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter campus home address"},domProps:{value:e.form.campus_home_address},on:{input:function(t){t.target.composing||e.$set(e.form,"campus_home_address",t.target.value)}}})])]),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Home Address(Optional)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.home_address,expression:"form.home_address"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter home address"},domProps:{value:e.form.home_address},on:{input:function(t){t.target.composing||e.$set(e.form,"home_address",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Date of Birth(Optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.dob,expression:"form.dob"}],staticClass:"form-control remove-radius",attrs:{type:"date",placeholder:"Enter dob"},domProps:{value:e.form.dob},on:{input:function(t){t.target.composing||e.$set(e.form,"dob",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Gender")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.gender,expression:"form.gender"}],staticClass:"custom-select remove-radius",attrs:{placeholder:"Enter gender"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"gender",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select Gender--")]),s("option",{attrs:{value:"male"}},[e._v("Male")]),s("option",{attrs:{value:"female"}},[e._v("Female")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Department")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.dept,expression:"form.dept"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter dept"},domProps:{value:e.form.dept},on:{input:function(t){t.target.composing||e.$set(e.form,"dept",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Level")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.level,expression:"form.level"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter level"},domProps:{value:e.form.level},on:{input:function(t){t.target.composing||e.$set(e.form,"level",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Programme")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.programme,expression:"form.programme"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter programme"},domProps:{value:e.form.programme},on:{input:function(t){t.target.composing||e.$set(e.form,"programme",t.target.value)}}})])])])])]),s("div",{staticClass:"card mt-3"},[e._m(1),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Email verified")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.email_verified,expression:"form.email_verified"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"email_verified",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"1"}},[e._v("Yes")]),s("option",{attrs:{value:"0"}},[e._v("No")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Status")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"status",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"1"}},[e._v("Active")]),s("option",{attrs:{value:"0"}},[e._v("Inactive")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Role")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role,expression:"form.role"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"role",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"member"}},[e._v("Member")]),s("option",{attrs:{value:"admin"}},[e._v("Admin")])])])])])])])]),e._m(2)])])]):s("div",[s("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[s("div",{staticClass:"pb-5"},[s("div",{staticClass:"col-xl-12 col-md-12 my-1"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h5",{staticClass:"font-weight-bold text-start mb-0"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadUserView()}}},[s("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" "+e._s(e.User.first_name)+"'s Basic Information ")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group mr-3"},[s("input",{ref:"profile_picture",staticClass:"d-none",attrs:{type:"file",name:"file_holder",id:"profile_image"},on:{change:function(t){return t.preventDefault(),e.changeImage(t)}}}),null===e.User.profile_picture||""===e.User.profile_picture?s("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[s("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:r("b31e")}})]):s("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[s("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:e.User.profile_picture}})])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.first_name,expression:"User.first_name"}],ref:"first_name",staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter first name",required:""},domProps:{value:e.User.first_name},on:{input:function(t){t.target.composing||e.$set(e.User,"first_name",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.last_name,expression:"User.last_name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter last name",required:""},domProps:{value:e.User.last_name},on:{input:function(t){t.target.composing||e.$set(e.User,"last_name",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.email,expression:"User.email"}],staticClass:"form-control remove-radius",attrs:{type:"email",placeholder:"Enter email address"},domProps:{value:e.User.email},on:{input:function(t){t.target.composing||e.$set(e.User,"email",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Tel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.tel,expression:"User.tel"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter tel",required:""},domProps:{value:e.User.tel},on:{input:function(t){t.target.composing||e.$set(e.User,"tel",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.state,expression:"User.state"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter state"},domProps:{value:e.User.state},on:{input:function(t){t.target.composing||e.$set(e.User,"state",t.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Campus Address(Optional)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.User.campus_home_address,expression:"User.campus_home_address"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter campus home address"},domProps:{value:e.User.campus_home_address},on:{input:function(t){t.target.composing||e.$set(e.User,"campus_home_address",t.target.value)}}})])]),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Home Address(Optional)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.User.home_address,expression:"User.home_address"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter home address"},domProps:{value:e.User.home_address},on:{input:function(t){t.target.composing||e.$set(e.User,"home_address",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Date of Birth(Optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.dob,expression:"User.dob"}],staticClass:"form-control remove-radius",attrs:{type:"date",placeholder:"Enter dob"},domProps:{value:e.User.dob},on:{input:function(t){t.target.composing||e.$set(e.User,"dob",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Gender")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.User.gender,expression:"User.gender"}],staticClass:"custom-select remove-radius",attrs:{placeholder:"Enter gender"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.User,"gender",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select Gender--")]),s("option",{attrs:{value:"male"}},[e._v("Male")]),s("option",{attrs:{value:"female"}},[e._v("Female")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Department")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.dept,expression:"User.dept"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter dept"},domProps:{value:e.User.dept},on:{input:function(t){t.target.composing||e.$set(e.User,"dept",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Level")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.level,expression:"User.level"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter level"},domProps:{value:e.User.level},on:{input:function(t){t.target.composing||e.$set(e.User,"level",t.target.value)}}})])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Programme")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.programme,expression:"User.programme"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter programme"},domProps:{value:e.User.programme},on:{input:function(t){t.target.composing||e.$set(e.User,"programme",t.target.value)}}})])])])])]),s("div",{staticClass:"card mt-3"},[e._m(3),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Email verified")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.User.email_verified,expression:"User.email_verified"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.User,"email_verified",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"1"}},[e._v("Yes")]),s("option",{attrs:{value:"0"}},[e._v("No")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Status")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.User.status,expression:"User.status"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.User,"status",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"1"}},[e._v("Active")]),s("option",{attrs:{value:"0"}},[e._v("Inactive")])])])]),s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"form-group text-start"},[s("label",{attrs:{for:""}},[e._v("Role")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.User.role,expression:"User.role"}],staticClass:"custom-select remove-radius",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.User,"role",t.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"member"}},[e._v("Member")]),s("option",{attrs:{value:"admin"}},[e._v("Admin")])])])])])])])]),s("div",{staticClass:"col-xl-12 col-md-12 mb-2 text-end"},[s("b-button",{staticClass:"btn btn-success mr-2",attrs:{size:"sm",type:"submit"}},[s("i",{staticClass:"mdi mdi-content-save"}),e._v(" Save")])],1)])])])])])])]),s("ConsoleFooter")],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("h5",{staticClass:"font-weight-bold text-start mb-0"},[e._v("Basic Information")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("h5",{staticClass:"font-weight-bold text-start mb-0"},[e._v("Settings")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-xl-12 col-md-12 mb-2 text-end"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[r("i",{staticClass:"fa fa-save"}),e._v(" Save")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("h5",{staticClass:"font-weight-bold text-start mb-0"},[e._v("Settings")])])}],l=(r("4de4"),r("96cf"),r("1da1")),o=r("5530"),i=r("2e673"),n=r("fb8e"),c=r("2f62"),m=r("bc3a"),d=r.n(m),u=r("c5b9"),v={name:"ConsoleUsers",data:function(){return{memberTabView:!0,profile_picture:"",filter:"",NewUserView:!1,User:null,first_name:"",fields:[{key:"first_name",sortable:!0},{key:"last_name",sortable:!0},{key:"email",sortable:!0},{key:"tel",sortable:!0},{key:"action",sortable:!1}],users:this.$store.getters.users.filter((function(e){return"admin"!==e.role})),admins:this.$store.getters.users.filter((function(e){return"admin"===e.role&&1!==e.id})),users_arr:[],form:{first_name:"",last_name:"",email:"",password:"1234567890",tel:"",campus_home_address:"",home_address:"",state:"",dob:"",gender:"",dept:"",level:"",programme:"",profile_picture:"",units:"",role:"member",email_verified:1,status:1},row:{toggleDetails:null},perPage:20,currentPage:1}},components:{ConsoleHeader:i["a"],ConsoleFooter:n["a"]},computed:{},methods:Object(o["a"])({},Object(c["b"])(["deleteUser","createUser","user_account","update_account","fetchUsers"]),{handleNewUser:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createUser(e.form);case 2:return t.next=4,e.refreshUsers();case 4:e.NewUserView=!1;case 5:case"end":return t.stop()}}),t)})))()},newUserView:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.NewUserView=!0,e.User=null;case 2:case"end":return t.stop()}}),t)})))()},loadUserView:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.NewUserView=!1,e.User=null;case 2:case"end":return t.stop()}}),t)})))()},filterUser:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.User=t.users.filter((function(t){return t.id===e})),t.User.length>0&&(t.User=t.User[0],t.NewUserView=null);case 2:case"end":return r.stop()}}),r)})))()},filterAdmin:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.User=t.admins.filter((function(t){return t.id===e})),t.User.length>0&&(t.User=t.User[0],t.NewUserView=null);case 2:case"end":return r.stop()}}),r)})))()},refreshUsers:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUsers();case 2:e.users=e.$store.getters.users.filter((function(e){return"admin"!==e.role})),e.admins=e.$store.getters.users.filter((function(e){return"admin"===e.role&&1!==e.id}));case 4:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.update_account({id:e.User.id,user:e.User});case 3:return t.next=5,e.fetchUsers();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleDeleteUser:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=t.users.filter((function(t){return t.id===e})),!(s.length>0)){r.next=17;break}if(null!==s[0].profile_picture&&""!==s[0].profile_picture){r.next=9;break}return r.next=5,t.deleteUser(e);case 5:return r.next=7,t.refreshUsers();case 7:r.next=17;break;case 9:return r.next=11,u["a"].removeImage({old_image:s[0].profile_picture});case 11:if(a=r.sent,0!==a.data.error){r.next=17;break}return r.next=15,t.deleteUser(e);case 15:return r.next=17,t.refreshUsers();case 17:case"end":return r.stop()}}),r)})))()},handleDeleteAdmin:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=t.admins.filter((function(t){return t.id===e})),!(s.length>0)){r.next=17;break}if(null!==s[0].profile_picture&&""!==s[0].profile_picture){r.next=9;break}return r.next=5,t.deleteUser(e);case 5:return r.next=7,t.refreshUsers();case 7:r.next=17;break;case 9:return r.next=11,u["a"].removeImage({old_image:s[0].profile_picture});case 11:if(a=r.sent,0!==a.data.error){r.next=17;break}return r.next=15,t.deleteUser(e);case 15:return r.next=17,t.refreshUsers();case 17:case"end":return r.stop()}}),r)})))()},changeImage:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.profile_picture=e.$refs.profile_picture.files[0],r=new FormData,r.append("upload_preset","images"),r.append("tags","unsigned upload, images"),r.append("file",e.profile_picture),t.next=7,d.a.post("https://api.cloudinary.com/v1_1/cacsafpi/upload",r);case 7:if(s=t.sent,null===s.data.secure_url){t.next=16;break}return e.User.profile_picture=s.data.secure_url,a=e.User.profile_picture,t.next=13,e.update_account({id:e.User.id,user:e.User});case 13:if(null===a){t.next=16;break}return t.next=16,u["a"].removeImage({old_image:a});case 16:case"end":return t.stop()}}),t)})))()}})},p=v,f=(r("8009"),r("2877")),g=Object(f["a"])(p,s,a,!1,null,"5b8791a4",null);t["default"]=g.exports},"7fe0":function(e,t,r){},8009:function(e,t,r){"use strict";var s=r("7fe0"),a=r.n(s);a.a}}]);
//# sourceMappingURL=chunk-1ed8f3ad.0bd4676b.js.map