(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49bb02d3"],{"0b54":function(t,e,a){},8075:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ConsoleHeader"),r("div",{staticClass:"content-wrapper"},[r("div",{staticClass:"content-header"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row mb-2"},[r("div",{staticClass:"col-sm-6 text-start"},[r("h1",{staticClass:"m-0 text-dark"},[t._v("Units"),r("sup",[r("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)",title:"Create"},on:{click:function(e){return e.preventDefault(),t.newUnitView(e)}}},[r("i",{staticClass:"mdi mdi-plus-circle"})])])])]),r("div",{staticClass:"col-sm-6"},[r("ol",{staticClass:"breadcrumb float-sm-right"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:"/console"}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[t._v("Units")])])])])])]),r("section",{staticClass:"content"},[r("div",{staticClass:"container-fluid"},[!1===t.NewUnitView?r("div",{staticClass:"pb-5"},[t.units.length<1?r("div",{staticClass:"text-start"},[r("b",[t._v("No Units added yet!")])]):r("div",{staticClass:"row no-gutters pb-5"},t._l(t.units,(function(e){return r("div",{key:e.id,staticClass:"col-xl-3 col-sm-6 col-6 h-100"},[r("div",{staticClass:"small-box bg-dark h-100 pt-4"},[r("div",{staticClass:"inner"},[null===e.image?r("div",[r("img",{staticClass:"img-fluid",staticStyle:{width:"8em"},attrs:{src:a("bf05")}})]):r("div",[r("img",{staticClass:"img-fluid",staticStyle:{width:"7em",height:"7em","object-fit":"contain"},attrs:{src:e.image}})]),r("h5",{staticClass:"text-truncate",attrs:{title:e.name}},[t._v(t._s(e.name))])]),r("div",{staticClass:"small-box-footer mb-0 p-2"},[r("a",{staticClass:"text-success mr-2",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.filterUnitDetails(e.id)}}},[t._v("More")]),r("a",{staticClass:"text-light",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.filterUnit(e.id)}}},[t._v("Edit")]),r("a",{staticClass:"p-2 text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.handleDeleteUnit(e.id)}}},[t._v("Delete")])])])])})),0)]):r("div",[null===t.Unit?r("div",[r("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.handleNewUnit(e)}}},[r("h3",{staticClass:"text-start"},[r("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.loadUnitView}},[r("i",{staticClass:"mdi mdi-chevron-left"})]),t._v(" Create a new unit ")]),r("div",{staticClass:"pb-5"},[r("div",{staticClass:"col-xl-6 col-md-12 my-4"},[r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Pathname(optional)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pathname,expression:"form.pathname"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter pathname"},domProps:{value:t.form.pathname},on:{input:function(e){e.target.composing||t.$set(t.form,"pathname",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Slug")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.slug,expression:"form.slug"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter slug",required:""},domProps:{value:t.form.slug},on:{input:function(e){e.target.composing||t.$set(t.form,"slug",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Description(optional)")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter description"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})])]),t._m(0)])])]):r("div",[r("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.handleUpdatedUnit(e)}}},[r("h3",{staticClass:"text-start"},[r("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.loadUnitView}},[r("i",{staticClass:"mdi mdi-chevron-left"})]),t._v(" Update unit ")]),r("div",{staticClass:"pb-5"},[r("div",{staticClass:"col-xl-6 col-md-12 my-4"},[r("div",{staticClass:"form-group text-start"},[r("input",{ref:"image",staticClass:"d-none",attrs:{type:"file",name:"file_holder",id:"profile_image"},on:{change:function(e){return e.preventDefault(),t.changeImage(e)}}}),null===t.Unit.image?r("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[r("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:a("bf05")}})]):r("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[r("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:t.Unit.image}})])]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.Unit.name,expression:"Unit.name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter name",required:""},domProps:{value:t.Unit.name},on:{input:function(e){e.target.composing||t.$set(t.Unit,"name",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Pathname(optional)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.Unit.pathname,expression:"Unit.pathname"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter pathname"},domProps:{value:t.Unit.pathname},on:{input:function(e){e.target.composing||t.$set(t.Unit,"pathname",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Slug")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.Unit.slug,expression:"Unit.slug"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter slug",required:""},domProps:{value:t.Unit.slug},on:{input:function(e){e.target.composing||t.$set(t.Unit,"slug",e.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[t._v("Description(optional)")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Unit.description,expression:"Unit.description"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter description"},domProps:{value:t.Unit.description},on:{input:function(e){e.target.composing||t.$set(t.Unit,"description",e.target.value)}}})])]),t._m(1)])])])])])])]),r("ConsoleFooter")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-6 col-md-12 mb-2 text-start"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save"}),t._v(" Save")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-6 col-md-12 mb-2 text-start"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save"}),t._v(" Save")])])}],n=(a("4de4"),a("96cf"),a("1da1")),s=a("5530"),o=a("2e673"),c=a("fb8e"),l=a("2f62"),u=a("bc3a"),m=a.n(u),d=a("c5b9"),p={name:"ConsoleUnits",data:function(){return{NewUnitView:!1,Unit:null,form:{name:"",pathname:"",slug:"",description:""}}},computed:Object(l["c"])(["units"]),components:{ConsoleHeader:o["a"],ConsoleFooter:c["a"]},methods:Object(s["a"])({},Object(l["b"])(["fetchUnits","deleteUnit","createUnit","updateUnit"]),{handleNewUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createUnit(t.form);case 2:t.NewUnitView=!1;case 3:case"end":return e.stop()}}),e)})))()},newUnitView:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.NewUnitView=!0,t.Unit=null;case 2:case"end":return e.stop()}}),e)})))()},loadUnitView:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.NewUnitView=!1,t.Unit=null;case 2:case"end":return e.stop()}}),e)})))()},filterUnit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.Unit=e.units.filter((function(e){return e.id===t})),e.Unit.length>0&&(e.Unit=e.Unit[0],e.NewUnitView=null);case 2:case"end":return a.stop()}}),a)})))()},filterUnitDetails:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("fetchUnitDetails",t);case 2:e.$router.push("/console/executives");case 3:case"end":return a.stop()}}),a)})))()},changeImage:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.image=t.$refs.image.files[0],a=new FormData,a.append("upload_preset","offices"),a.append("tags","unsigned upload, offices"),a.append("file",t.image),e.next=7,m.a.post("https://api.cloudinary.com/v1_1/cacsafpi/upload",a);case 7:if(r=e.sent,null===r.data.secure_url){e.next=21;break}return i=t.Unit.image,t.Unit.image=r.data.secure_url,e.next=13,t.updateUnit({id:t.Unit.id,unit:t.Unit});case 13:e.t0=i,e.next=""===e.t0?16:null===e.t0?17:18;break;case 16:return e.abrupt("break",21);case 17:return e.abrupt("break",21);case 18:return e.next=20,d["a"].removeImage({old_image:i});case 20:return e.abrupt("break",21);case 21:case"end":return e.stop()}}),e)})))()},handleDeleteUnit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.units.filter((function(e){return e.id===t})),!(r.length>0)){a.next=4;break}return a.next=4,e.deleteUnit(t);case 4:case"end":return a.stop()}}),a)})))()},handleUpdatedUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===t.Unit){e.next=3;break}return e.next=3,t.updateUnit({id:t.Unit.id,unit:t.Unit});case 3:case"end":return e.stop()}}),e)})))()}}),created:function(){this.fetchUnits()}},f=p,v=(a("e116"),a("2877")),g=Object(v["a"])(f,r,i,!1,null,"f92dfa10",null);e["default"]=g.exports},e116:function(t,e,a){"use strict";var r=a("0b54"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-49bb02d3.256003a6.js.map