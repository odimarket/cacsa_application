(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce86fccc"],{"61ba":function(e,t,r){},a93c:function(e,t,r){"use strict";var a=r("61ba"),i=r.n(a);i.a},cb57:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ConsoleHeader"),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-6 text-start"},[a("h1",{staticClass:"m-0 text-dark"},[e._v("Tenures"),a("sup",[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)",title:"Create Generation"},on:{click:function(t){return t.preventDefault(),e.newGenerationView(t)}}},[a("i",{staticClass:"mdi mdi-plus-circle"})])])])]),a("div",{staticClass:"col-sm-6"},[a("ol",{staticClass:"breadcrumb float-sm-right"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/console"}},[e._v("Home")])],1),a("li",{staticClass:"breadcrumb-item active"},[e._v("Tenures")])])])])])]),a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[!1===e.NewGenerationView?a("div",{staticClass:"pb-5"},[a("div",{staticClass:"table-responsive"},[a("b-row",{staticClass:"mb-3"},[a("b-col",{staticClass:"col-6",attrs:{md:"3"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),a("b-col",{staticClass:"col-6 text-end",attrs:{md:"9"}},[a("b-button",{staticClass:"btn bn-dark",on:{click:e.refreshGenerations}},[a("i",{staticClass:"mdi mdi-refresh"}),e._v(" Refresh")])],1)],1),a("b-row",[a("b-col",[a("b-table",{attrs:{striped:"",hover:"",outlined:"",filter:e.filter,items:e.generations,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(tenure)",fn:function(t){return[e._v(" "+e._s(t.item.from)+"/"+e._s(t.item.to)+" "),1===t.item.status?a("sup",[a("span",{staticClass:"badge badge-success"},[e._v("Current")])]):e._e()]}},{key:"cell(president)",fn:function(t){return[e._v(" "+e._s(null!==t.item.user?t.item.user.first_name+" "+t.item.user.last_name:"")+" ")]}},{key:"cell(action)",fn:function(t){return[a("b-button",{staticClass:"mr-2 mb-2",attrs:{size:"sm"},on:{click:function(r){return e.filterGeneration(t.item.id)}}},[a("i",{staticClass:"mdi mdi-pencil"})]),a("b-button",{staticClass:"btn btn-success mb-2",attrs:{size:"sm",title:"View Details"},on:{click:function(r){return e.loadTenureExecutivesView(t.item.id)}}},[a("i",{staticClass:"mdi mdi-arrow-right"})])]}},{key:"cell(date)",fn:function(t){return[e._v(" "+e._s(e._f("moment")(t.item.createdAt,"dddd, MMMM Do YYYY"))+" ")]}}],null,!1,2006401965)}),a("b-pagination",{attrs:{"total-rows":e.generations.length,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),e.generations.length<1?a("div",{staticClass:"text-start"},[a("b",[e._v("No generation added yet!")])]):e._e()]):a("div",[null===e.Generation?a("div",[a("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.handleNewGeneration(t)}}},[a("h3",{staticClass:"text-start"},[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadGenerationView()}}},[a("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Create a new generation ")]),a("div",{staticClass:"pb-5"},[a("div",{staticClass:"col-xl-6 col-md-12 my-4"},[a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter name",required:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),a("div",{staticClass:"row form-group text-start"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:""}},[e._v("From")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.from,expression:"form.from"}],staticClass:"form-control remove-radius",attrs:{type:"text",required:""},domProps:{value:e.form.from},on:{input:function(t){t.target.composing||e.$set(e.form,"from",t.target.value)}}})]),a("div",{staticClass:"col"},[a("label",{attrs:{for:""}},[e._v("To")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.to,expression:"form.to"}],staticClass:"form-control remove-radius",attrs:{type:"text",required:""},domProps:{value:e.form.to},on:{input:function(t){t.target.composing||e.$set(e.form,"to",t.target.value)}}})])]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Description (Optional)")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter description"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("President")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.head_id,expression:"form.head_id"}],staticClass:"custom-select remove-radius",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"head_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("--Select president--")]),e._l(e.users,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name+" "+t.last_name))])}))],2)]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Visibility")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"}],staticClass:"custom-select remove-radius",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"status",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"1"}},[e._v("True")]),a("option",{attrs:{value:"0"}},[e._v("False")])])])]),e._m(0)])])]):a("div",[!1===e.TenureExecutivesView?a("div",{staticClass:"pb-5"},[a("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.handleGenUpdateForm(t)}}},[a("h3",{staticClass:"text-start"},[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadGenerationView()}}},[a("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Update generation ")]),a("div",{staticClass:"pb-5"},[a("div",{staticClass:"col-xl-6 col-md-12 my-4"},[a("div",{staticClass:"form-group text-start"},[a("input",{ref:"image",staticClass:"d-none",attrs:{type:"file",name:"file_holder",id:"profile_image"},on:{change:function(t){return t.preventDefault(),e.changeImage(t)}}}),null===e.Generation.image?a("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:r("bf05")}})]):a("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:e.Generation.image}})])]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Generation.name,expression:"Generation.name"}],staticClass:"form-control remove-radius",attrs:{type:"text",placeholder:"Enter name",required:""},domProps:{value:e.Generation.name},on:{input:function(t){t.target.composing||e.$set(e.Generation,"name",t.target.value)}}})]),a("div",{staticClass:"row form-group text-start"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:""}},[e._v("From")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Generation.from,expression:"Generation.from"}],staticClass:"form-control remove-radius",attrs:{type:"text",required:""},domProps:{value:e.Generation.from},on:{input:function(t){t.target.composing||e.$set(e.Generation,"from",t.target.value)}}})]),a("div",{staticClass:"col"},[a("label",{attrs:{for:""}},[e._v("To")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Generation.to,expression:"Generation.to"}],staticClass:"form-control remove-radius",attrs:{type:"text",required:""},domProps:{value:e.Generation.to},on:{input:function(t){t.target.composing||e.$set(e.Generation,"to",t.target.value)}}})])]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Description (Optional)")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Generation.description,expression:"Generation.description"}],staticClass:"form-control remove-radius",attrs:{placeholder:"Enter description"},domProps:{value:e.Generation.description},on:{input:function(t){t.target.composing||e.$set(e.Generation,"description",t.target.value)}}})]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("President")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.Generation.head_id,expression:"Generation.head_id"}],staticClass:"custom-select remove-radius",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.Generation,"head_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("--Select president--")]),e._l(e.users,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name+" "+t.last_name))])}))],2)]),a("div",{staticClass:"form-group text-start"},[a("label",{attrs:{for:""}},[e._v("Visibility")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.Generation.status,expression:"Generation.status"}],staticClass:"custom-select remove-radius",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.Generation,"status",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"1"}},[e._v("True")]),a("option",{attrs:{value:"0"}},[e._v("False")])])])]),a("div",{staticClass:"col-xl-6 col-md-12 mb-2 text-start"},[e._m(1),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.handleDeleteGeneration(e.Generation.id)}}},[a("i",{staticClass:"mdi mdi-delete"}),e._v(" Delete")])])])])]):a("div",[null===e.Executive?a("div",[null===e.unit_details?a("div",[a("h3",{staticClass:"text-start"},[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadGenerationView()}}},[a("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Add excos to office ("+e._s(e.Generation.from+"/"+e.Generation.to)+") ")]),e.offices.length<1?a("div",{staticClass:"text-start"},[a("b",[e._v("No Offices added yet!")])]):a("div",{staticClass:"pb-5"},[a("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleNewExcoForm(t)}}},[a("div",{staticClass:"form-group row pt-3"},[a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.executive_form.office_id,expression:"executive_form.office_id"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.executive_form,"office_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select post--")]),e._l(e.offices,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.post))])}))],2)]),a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.executive_form.user_id,expression:"executive_form.user_id"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.executive_form,"user_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select user--")]),e._l(e.users,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])}))],2)]),e._m(2)])]),a("div",{staticClass:"row pb-5"},e._l(e.gen_executives,(function(t){return a("div",{key:t.id,staticClass:"col-xl-4 col-sm-6 col-6 h-100"},[a("div",{staticClass:"small-box bg-dark h-100 pt-2"},[a("div",{staticClass:"inner"},[null===t.user.profile_picture||""===t.user.profile_picture?a("div",[a("img",{staticClass:"img-fluid img-cover",attrs:{src:r("b31e")}})]):a("div",[a("img",{staticClass:"img-fluid img-cover",attrs:{src:t.user.profile_picture}})]),a("p",{attrs:{title:t.user.first_name+" "+t.user.last_name}},[e._v(e._s(t.user.first_name+" "+t.user.last_name))]),a("h5",{staticClass:"text-truncate",attrs:{title:t.office.post}},[e._v(e._s(t.office.post))])]),a("div",{staticClass:"small-box-footer text-end mb-0 p-2"},[a("a",{staticClass:"btn btn-success btn-sm mr-2",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.filterExecutive(t.id)}}},[e._v("Edit")]),a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.handleDeleteExecutive(t.id)}}},[e._v("Cancel")])])])])})),0)])]):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"text-start"},[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadGenerationView()}}},[a("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Add members to unit ("+e._s(e.Generation.from+"/"+e.Generation.to)+") ")]),a("h5",{staticClass:"text-start font-weight-bold"},[e._v(" "+e._s(e.unit_details.name)+" "),a("sup",[a("router-link",{staticClass:"text-dark",attrs:{to:"/console/users",title:"Create users"}},[a("i",{staticClass:"mdi mdi-plus-circle"})])],1)]),a("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleNewUnitDetailsForm(t)}}},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit_details_form.role,expression:"unit_details_form.role"}],staticClass:"custom-select",attrs:{required:""},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.unit_details_form,"role",t.target.multiple?r:r[0])},e.usersByRole]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select role--")]),a("option",{attrs:{value:"exco"}},[e._v("Executive")]),a("option",{attrs:{value:"sub-exco"}},[e._v("Sub-executive")]),a("option",{attrs:{value:"member"}},[e._v("Member")])])]),a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit_details_form.user_id,expression:"unit_details_form.user_id"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.unit_details_form,"user_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select user--")]),e._l(e.users_by_role,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])}))],2)]),e._m(3)])])]),a("div",{staticClass:"col-xl-3 col-12"},[a("div",{staticClass:"card"},[e._m(4),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row pb-5"},[e._l(e.unit_excos,(function(t){return a("div",{key:t.id,staticClass:"col-6 col-xl-12 h-100"},[a("div",{staticClass:"small-box bg-dark pt-2"},[a("div",{staticClass:"inner"},[null===t.exco.profile_picture||""===t.exco.profile_picture?a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:r("b31e")}}):e._e(),a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:t.exco.profile_picture}}),a("p",{staticClass:"mb-0",attrs:{title:t.exco.first_name+" "+t.exco.last_name}},[e._v(e._s(t.exco.first_name+" "+t.exco.last_name))]),a("p",{staticClass:"mb-0"},[e._v(e._s(t.exco.dept))])]),a("div",{staticClass:"small-box-footer text-end mb-0 p-2"},[a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.handleDeleteUnitMember(t.id)}}},[e._v("Remove")])])])])})),0===e.unit_excos.length?a("div",{staticClass:"col-12"},[e._v(" No excos ")]):e._e()],2)])])]),a("div",{staticClass:"col-xl-9 col-12"},[a("div",{staticClass:"card"},[e._m(5),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row pb-5"},[e._l(e.unit_sub_excos,(function(t){return a("div",{key:t.id,staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6 h-100"},[a("div",{staticClass:"small-box bg-dark h-100 pt-2"},[a("div",{staticClass:"inner"},[null===t.sub_exco.profile_picture||""===t.sub_exco.profile_picture?a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:r("b31e")}}):e._e(),a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:t.sub_exco.profile_picture}}),a("p",{staticClass:"mb-0",attrs:{title:t.sub_exco.first_name+" "+t.sub_exco.last_name}},[e._v(e._s(t.sub_exco.first_name+" "+t.sub_exco.last_name))]),a("p",{staticClass:"mb-0"},[e._v(e._s(t.sub_exco.dept))])]),a("div",{staticClass:"small-box-footer text-end mb-0 p-2"},[a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.handleDeleteUnitMember(t.id)}}},[e._v("Remove")])])])])})),0===e.unit_sub_excos.length?a("div",{staticClass:"col-12 text-start"},[e._v(" No sub excos ")]):e._e()],2)])]),a("div",{staticClass:"card"},[e._m(6),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row pb-5"},[e._l(e.unit_members,(function(t){return a("div",{key:t.id,staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6 h-100"},[a("div",{staticClass:"small-box bg-dark pt-2"},[a("div",{staticClass:"inner"},[null===t.member.profile_picture||""===t.member.profile_picture?a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:r("b31e")}}):e._e(),a("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:t.member.profile_picture}}),a("p",{staticClass:"mb-0",attrs:{title:t.member.first_name+" "+t.member.last_name}},[e._v(e._s(t.member.first_name+" "+t.member.last_name))]),a("p",{staticClass:"mb-0"},[e._v(e._s(t.member.dept))])]),a("div",{staticClass:"small-box-footer text-end mb-0 p-2"},[a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.handleDeleteUnitMember(t.id)}}},[e._v("Remove")])])])])})),0===e.unit_members.length?a("div",{staticClass:"col-12 text-start"},[e._v(" No members ")]):e._e()],2)])])])])])]):a("div",[a("div",{staticClass:"pb-5 row"},[a("div",{staticClass:"col-xl-6 col-12"},[a("h3",{staticClass:"text-start"},[a("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadTenureExecutivesView(e.Generation.id)}}},[a("i",{staticClass:"mdi mdi-chevron-left"})]),e._v(" Update executive ")]),a("form",{staticClass:"text-start mt-3",attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleExcoUpdateForm(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Post")]),a("p",[e._v(e._s(e.Executive.office.post))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Executive")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.Executive.user_id,expression:"Executive.user_id"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.Executive,"user_id",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--Select user--")]),e._l(e.users,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])}))],2)]),e._m(7)])])])])])])])])])]),a("ConsoleFooter")],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-xl-6 col-md-12 mb-2 text-start"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[r("i",{staticClass:"fa fa-save"}),e._v(" Save")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"}},[r("i",{staticClass:"mdi mdi-content-save"}),e._v(" Save")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col text-start"},[r("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"}},[r("i",{staticClass:"mdi mdi-plus-circle"}),e._v(" Add exco")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col text-start"},[r("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"}},[r("i",{staticClass:"mdi mdi-plus-circle"}),e._v(" Add ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-body"},[r("h5",{staticClass:"mb-0"},[e._v("Executive(s)")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header text-start"},[r("h5",{staticClass:"mb-0"},[e._v("Sub Excos")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header text-start"},[r("h5",{staticClass:"mb-0"},[e._v("Members")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"}},[r("i",{staticClass:"mdi mdi-save"}),e._v(" Update exco")])}],s=(r("4de4"),r("96cf"),r("1da1")),n=r("5530"),o=r("2e673"),l=r("fb8e"),c=r("2f62"),u=r("bc3a"),d=r.n(u),m=r("c5b9"),v={name:"ConsoleExecutives",data:function(){return{users:this.$store.getters.users.filter((function(e){return"admin"===e.role})),members:this.$store.getters.users.filter((function(e){return"admin"!==e.role})),users_by_role:[],image:"",filter:"",NewGenerationView:!1,Generation:null,TenureExecutivesView:!1,Executives:[],Executive:null,fields:[{key:"name",sortable:!0},{key:"tenure",sortable:!0},{key:"president",sortable:!0},{key:"date",sortable:!0},{key:"action",sortable:!1}],form:{name:"",from:"",to:"",description:"",image:null,head_id:null,status:1},executive_form:{user_id:"",office_id:"",generation_id:""},unit_details_form:{role:"",user_id:""},Unit_details_data:{executive_id:null,sub_exco_id:null,user_id:null,gen_id:null,unit_id:null},unit_excos:[],unit_sub_excos:[],unit_members:[],perPage:20,currentPage:1,available_offices:[]}},computed:Object(c["c"])(["unit_details","unit_info_details","generations","gen_executives","offices"]),components:{ConsoleHeader:o["a"],ConsoleFooter:l["a"]},methods:Object(n["a"])({},Object(c["b"])(["deleteGeneration","createGeneration","createExecutive","updateGeneration","fetchOffices","fetchGenerationExecutives","deleteExecutive","updateExecutive","fetchUnitDetails","fetchUnitInfoDetails","createUnitInfoDetail","deleteUnitInfoDetail","updateUnitDetail"]),{handleNewGeneration:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createGeneration(e.form);case 2:return t.next=4,e.refreshGenerations();case 4:e.NewGenerationView=!1;case 5:case"end":return t.stop()}}),t)})))()},newGenerationView:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.NewGenerationView=!0,e.Generation=null;case 2:case"end":return t.stop()}}),t)})))()},loadGenerationView:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.NewGenerationView=!1,e.Generation=null;case 2:case"end":return t.stop()}}),t)})))()},filterGeneration:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.Generation=t.generations.filter((function(t){return t.id===e})),t.Generation.length>0&&(t.Generation=t.Generation[0],t.NewGenerationView=null,t.TenureExecutivesView=!1);case 2:case"end":return r.stop()}}),r)})))()},refreshGenerations:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchGenerations");case 2:return t.next=4,e.fetchUnitDetails(-1);case 4:case"end":return t.stop()}}),t)})))()},handleGenUpdateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateGeneration({id:e.Generation.id,generation:e.Generation});case 3:return t.next=5,e.fetchGenerations();case 5:e.unit_details=null,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleDeleteGeneration:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.generations.filter((function(t){return t.id===e})),t.unit_details=null,!(a.length>0)){r.next=18;break}if(null!==a[0].image&&""!==a[0].image){r.next=10;break}return r.next=6,t.deleteGeneration(e);case 6:return r.next=8,t.refreshGenerations();case 8:r.next=18;break;case 10:return r.next=12,m["a"].removeImage({old_image:a[0].image});case 12:if(i=r.sent,0!==i.data.error){r.next=18;break}return r.next=16,t.deleteGeneration(e);case 16:return r.next=18,t.refreshGenerations();case 18:case"end":return r.stop()}}),r)})))()},changeImage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.image=e.$refs.image.files[0],r=new FormData,r.append("upload_preset","office"),r.append("tags","unsigned upload, office"),r.append("file",e.image),t.prev=5,t.next=8,d.a.post("https://api.cloudinary.com/v1_1/cacsafpi/upload",r);case 8:if(a=t.sent,null===a.data.secure_url){t.next=19;break}return e.Generation.image=a.data.secure_url,i=e.Generation.image,t.next=14,e.update_account({id:e.Generation.id,user:e.Generation});case 14:if(null===i){t.next=17;break}return t.next=17,m["a"].removeImage({old_image:i});case 17:t.next=20;break;case 19:alert("Bad network");case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](5),alert("Bad network");case 25:case"end":return t.stop()}}),t,null,[[5,22]])})))()},loadTenureExecutivesView:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.Executive=null,t.NewGenerationView=!0,t.TenureExecutivesView=!0,t.Generation=t.generations.filter((function(t){return t.id===e})),!(t.Generation.length>0)){r.next=16;break}if(null===t.unit_details){r.next=11;break}return r.next=8,t.fetchUnitInfoDetails({gen_id:t.Generation[0].id,unit_id:t.unit_details.id});case 8:t.unit_excos=t.unit_info_details.filter((function(e){return null!==e.exco})),t.unit_sub_excos=t.unit_info_details.filter((function(e){return null!==e.sub_exco})),t.unit_members=t.unit_info_details.filter((function(e){return null!==e.member}));case 11:return t.available_offices=[],t.Generation=t.Generation[0],t.executive_form.generation_id=t.Generation.id,r.next=16,t.fetchGenerationExecutives(t.Generation.id);case 16:case"end":return r.stop()}}),r)})))()},handleNewExcoForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createExecutive(e.executive_form);case 2:case"end":return t.stop()}}),t)})))()},handleDeleteExecutive:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.gen_executives.filter((function(t){return t.id===e})),!(a.length>0)){r.next=4;break}return r.next=4,t.deleteExecutive(e);case 4:case"end":return r.stop()}}),r)})))()},filterExecutive:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.Executive=t.gen_executives.filter((function(t){return t.id===e})),t.Executive.length>0&&(t.Executive=t.Executive[0]);case 2:case"end":return r.stop()}}),r)})))()},handleExcoUpdateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={user_id:e.Executive.user_id},t.next=4,e.updateExecutive({id:e.Executive.id,executive:r});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},usersByRole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.unit_details_form.role,e.users_by_role="exco"===r?e.users:e.members;case 2:case"end":return t.stop()}}),t)})))()},handleNewUnitDetailsForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,i,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.unit_details_form,a=r.role,i=r.user_id,t.t0=a,t.next="exco"===t.t0?4:"sub-exco"===t.t0?6:"member"===t.t0?8:10;break;case 4:return e.Unit_details_data.executive_id=i,t.abrupt("break",11);case 6:return e.Unit_details_data.sub_exco_id=i,t.abrupt("break",11);case 8:return e.Unit_details_data.user_id=i,t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:return e.Unit_details_data.unit_id=e.unit_details.id,e.Unit_details_data.gen_id=e.Generation.id,t.next=15,e.createUnitInfoDetail(e.Unit_details_data);case 15:return s=e.Unit_details_data,n=s.gen_id,o=s.unit_id,t.next=18,e.fetchUnitInfoDetails({gen_id:n,unit_id:o});case 18:e.unit_excos=e.unit_info_details.filter((function(e){return null!==e.exco})),e.unit_sub_excos=e.unit_info_details.filter((function(e){return null!==e.sub_exco})),e.unit_members=e.unit_info_details.filter((function(e){return null!==e.member})),e.Unit_details_data.executive_id=null,e.Unit_details_data.sub_exco_id=null,e.Unit_details_data.user_id=null,e.Unit_details_data.unit_id=null,e.Unit_details_data.gen_id=null;case 26:case"end":return t.stop()}}),t)})))()},handleDeleteUnitMember:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.unit_info_details.filter((function(t){return t.id===e})),!(a.length>0)){r.next=7;break}return r.next=4,t.deleteUnitInfoDetail(e);case 4:t.unit_excos=t.unit_info_details.filter((function(e){return null!==e.exco})),t.unit_sub_excos=t.unit_info_details.filter((function(e){return null!==e.sub_exco})),t.unit_members=t.unit_info_details.filter((function(e){return null!==e.member}));case 7:case"end":return r.stop()}}),r)})))()}}),created:function(){this.fetchOffices()}},f=v,_=(r("a93c"),r("2877")),p=Object(_["a"])(f,a,i,!1,null,"36cab7a0",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ce86fccc.e85c2128.js.map