(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230f97"],{ef22:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ConsoleHeader"),r("div",{staticClass:"content-wrapper"},[r("div",{staticClass:"content-header"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row mb-2"},[e._m(0),r("div",{staticClass:"col-sm-6"},[r("ol",{staticClass:"breadcrumb float-sm-right"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:"/console"}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[e._v("Profile")])])])])])]),r("section",{staticClass:"content"},[r("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row p-0"},[r("div",{staticClass:"col-xl-12 col-md-12"},[r("div",{attrs:{id:"response"}}),r("div",{staticClass:"form-inline mb-2"},[r("div",{staticClass:"form-group mr-3"},[r("input",{ref:"profile_picture",staticClass:"d-none",attrs:{type:"file",name:"file_holder",id:"profile_image"},on:{change:function(t){return t.preventDefault(),e.changeImage(t)}}}),null===e.user.profile_picture||""===e.user.profile_picture?r("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[r("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:a("b31e")}})]):r("label",{staticStyle:{cursor:"pointer"},attrs:{for:"profile_image"}},[r("img",{staticClass:"img-fluid",staticStyle:{width:"5em"},attrs:{src:e.user.profile_picture}})])]),r("div",{staticClass:"form-group"},[r("h3",{},[r("span",{attrs:{"ng-bind":"firstname"}}),e._v(" "),e._m(1),e._v(" "+e._s(e.user.first_name)+" "+e._s(e.user.last_name)+" ")])])]),e._m(2)]),r("div",{staticClass:"col-xl-12 col-md-12 mb-4"},[r("div",{staticClass:"card"},[e._m(3),r("div",{staticClass:"card-body white-bg"},[r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col text-start"},[r("label",{attrs:{for:""}},[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_name,expression:"user.first_name"}],staticClass:"form-control remove-radius",attrs:{type:"text",name:"firstname",placeholder:"First Name",required:""},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value)}}})]),r("div",{staticClass:"col text-start"},[r("label",{attrs:{for:""}},[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control remove-radius",attrs:{type:"text",name:"lastname",placeholder:"Last Name",required:""},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}})])]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[e._v("Email Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control remove-radius",attrs:{type:"email",name:"email",placeholder:"Email Address",disabled:"",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[e._v("Country")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.country,expression:"user.country"}],staticClass:"custom-select remove-radius reg",attrs:{name:"country",id:"",placeholder:"--Select Country--",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"country",t.target.multiple?a:a[0])}}},[r("option",{attrs:{value:"","ng-hide":"user_data.country !== null || user_data.country !== ''",disabled:""}},[e._v("--Select Country--")]),e._l(e.countries,(function(t){return r("option",{key:t},[e._v(e._s(t))])}))],2)]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[e._v("Phone Numbers")]),r("div",{staticClass:"input-group"},[e._m(4),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.tel,expression:"user.tel"}],staticClass:"form-control remove-radius",attrs:{type:"text",name:"tel",placeholder:"Phone Number 1",required:""},domProps:{value:e.user.tel},on:{input:function(t){t.target.composing||e.$set(e.user,"tel",t.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col text-start"},[r("label",{attrs:{for:""}},[e._v("State")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.state,expression:"user.state"}],staticClass:"form-control remove-radius",attrs:{type:"text",name:"state",placeholder:"State",required:""},domProps:{value:e.user.state},on:{input:function(t){t.target.composing||e.$set(e.user,"state",t.target.value)}}})])]),r("div",{staticClass:"form-group text-start"},[r("label",{attrs:{for:""}},[e._v("Main Address")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.home_address,expression:"user.home_address"}],staticClass:"form-control remove-radius admin_bio_editor",attrs:{name:"main_address",placeholder:"Enter Main Address",required:""},domProps:{value:e.user.home_address},on:{input:function(t){t.target.composing||e.$set(e.user,"home_address",t.target.value)}}})]),r("div",{staticClass:"clearfix"}),r("button",{staticClass:"btn btn-success float-right mb-0 mt-0",attrs:{type:"submit"}},[e._v("Save")])])])])])])])])]),r("ConsoleFooter")],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-6 text-start"},[a("h1",{staticClass:"m-0 text-dark"},[e._v("Profile")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-link text-dark",attrs:{href:"javascript:void(0)",onclick:"$('input[name=\\'firstname\\']').focus()"}},[a("i",{staticClass:"mdi mdi-pencil mdi-24px"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex"},[a("div",{staticClass:"alert alert-info alert-sm p-2 d-none",attrs:{id:"image_name_holder"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("h5",{staticClass:"card-title mb-0 pb-0 col font-weight-bold text-start"},[e._v("Profile Information")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[e._v("+234")])])}],i=(a("96cf"),a("1da1")),o=a("5530"),n=a("2e673"),l=a("fb8e"),c=a("2b0e"),u=a("2f62"),d=a("bc3a"),m=a.n(d),p=a("c5b9"),v=a("344d"),f=a.n(v),_=a("9e21"),g=a.n(_);c["default"].use(g.a,{configuration:{cloudName:f.a.cloudinary_name},components:{CldImage:_["CldImage"],CldContext:_["CldContext"]}});var C={name:"ConsoleProfile",data:function(){return{profile_picture:"",cloudName:"cacsafpi"}},computed:Object(o["a"])({},Object(u["c"])(["user","countries"])),components:{ConsoleHeader:n["a"],ConsoleFooter:l["a"]},methods:Object(o["a"])({},Object(u["b"])(["update_account","user_account"]),{submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.update_account({id:e.user.id,user:e.user});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},changeImage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.profile_picture=e.$refs.profile_picture.files[0],a=new FormData,a.append("upload_preset","images"),a.append("tags","unsigned upload, images"),a.append("file",e.profile_picture),t.next=7,m.a.post("https://api.cloudinary.com/v1_1/cacsafpi/upload",a);case 7:if(r=t.sent,null===r.data.secure_url){t.next=16;break}return e.user.profile_picture=r.data.secure_url,s=e.user.profile_picture,t.next=13,e.update_account({id:e.user.id,user:e.user});case 13:if(null===s){t.next=16;break}return t.next=16,p["a"].removeImage({old_image:s});case 16:case"end":return t.stop()}}),t)})))()}})},b=C,h=a("2877"),x=Object(h["a"])(b,r,s,!1,null,"6a9aa55d",null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-2d230f97.d5774ef6.js.map